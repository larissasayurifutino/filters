
let botoes = document.querySelectorAll(".botoes button"); // Todos elementos tipo button filhos de elemento classe botoes
// botoes é um nodelist
let passos = document.querySelectorAll(".passos > div");
// passos é um nodelist

let seletor_uf = document.querySelector( '.uf' )
// Seleciona o elemento <select>


// Quando a opção do seletor mudar, dispara uma funcão
seletor_uf.addEventListener( 'change', chamarFlourish )

function chamarFlourish(){

    // Variavel estado
    let uf = seletor_uf.value

    if( uf == 'ac' ){ // #68855c
        <div class="flourish-embed flourish-chart" data-src="visualisation/10402368">
            <script src="https://public.flourish.studio/resources/embed.js"></script>
        </div>
    }

    if( uf == 'al' ){ // #d9af6b
        console.log('Dados indisponíveis.')
    }
    
    if( uf == 'am' ){
        <div class="flourish-embed flourish-chart" data-src="visualisation/10402444">
            <script src="https://public.flourish.studio/resources/embed.js">
            </script>
        </div>
    }

    if( uf == 'ap' ){
        <div class="flourish-embed flourish-chart" data-src="visualisation/10402583">
            <script src="https://public.flourish.studio/resources/embed.js">
            </script>
        </div>
    }

    if( uf == 'ba' ){ // #d9af6b
        <div class="flourish-embed flourish-chart" data-src="visualisation/10402903">
            <script src="https://public.flourish.studio/resources/embed.js">
            </script>
        </div>
    }

    if( uf == 'ce' ){
        <div class="flourish-embed flourish-chart" data-src="visualisation/10402747">
            <script src="https://public.flourish.studio/resources/embed.js">
            </script>
        </div>
    }

    if( uf == 'df' ){ // #467378
        <div class="flourish-embed flourish-chart" data-src="visualisation/10401903">
            <script src="https://public.flourish.studio/resources/embed.js">
            </script>
        </div>
    }

    if( uf == 'es' ){ // #7c7c7c
        <div class="flourish-embed flourish-chart" data-src="visualisation/10403093">
            <script src="https://public.flourish.studio/resources/embed.js">
            </script>
        </div>
    }     

    if( uf == 'go' ){ // #467378
        <div class="flourish-embed flourish-chart" data-src="visualisation/10402250">
            <script src="https://public.flourish.studio/resources/embed.js">
            </script>
        </div>
    }

    if( uf == 'ma' ){ // #d9af6b
        <div class="flourish-embed flourish-chart" data-src="visualisation/10402625">
            <script src="https://public.flourish.studio/resources/embed.js">
            </script>
        </div>
    }    

    if( uf == 'mg' ){ // #7c7c7c
        <div class="flourish-embed flourish-chart" data-src="visualisation/10403065">
            <script src="https://public.flourish.studio/resources/embed.js">
            </script>
        </div>
    } 

    if( uf == 'ms' ){ // #467378
        <div class="flourish-embed flourish-chart" data-src="visualisation/10402335">
            <script src="https://public.flourish.studio/resources/embed.js"></script>
        </div>
    }

    if( uf == 'mt' ){ // #467378
        <div class="flourish-embed flourish-chart" data-src="visualisation/10402293">
            <script src="https://public.flourish.studio/resources/embed.js">
            </script>
        </div>
    }

    if( uf == 'pa' ){ // #68855c
        <div class="flourish-embed flourish-chart" data-src="visualisation/10402504">
            <script src="https://public.flourish.studio/resources/embed.js">
            </script>
        </div>
    } 

    if( uf == 'pb' ){ // #d9af6b
        <div class="flourish-embed flourish-chart" data-src="visualisation/10402816">
            <script src="https://public.flourish.studio/resources/embed.js">
            </script>
        </div>
    }  

    if( uf == 'pe' ){ // #d9af6b
        <div class="flourish-embed flourish-chart" data-src="visualisation/10402865">
            <script src="https://public.flourish.studio/resources/embed.js">
            </script>
        </div>
    }  

    if( uf == 'pi' ){ // #d9af6b
        <div class="flourish-embed flourish-chart" data-src="visualisation/10402726">
            <script src="https://public.flourish.studio/resources/embed.js">
            </script>
        </div>
    }     
    
    if( uf == 'pr' ){ // #a06177
        <div class="flourish-embed flourish-chart" data-src="visualisation/10403015">
            <script src="https://public.flourish.studio/resources/embed.js">
            </script>
        </div>
    }      
    
    
    if( uf == 'rj' ){ // #7c7c7c
        console.log('Dados indisponíveis.')
    }     


    if( uf == 'rn' ){ // #d9af6b
        <div class="flourish-embed flourish-chart" data-src="visualisation/10402772">
            <script src="https://public.flourish.studio/resources/embed.js">
            </script>
        </div>
    }


    if( uf == 'ro' ){ // #68855c
        <div class="flourish-embed flourish-chart" data-src="visualisation/10402402">
            <script src="https://public.flourish.studio/resources/embed.js">
            </script>
        </div>
    }

    if( uf == 'rr' ){ // #68855c
        <div class="flourish-embed flourish-chart" data-src="visualisation/10402478">
            <script src="https://public.flourish.studio/resources/embed.js">
            </script>
        </div>
    }


    if( uf == 'rs' ){ // #a06177
        <div class="flourish-embed flourish-chart" data-src="visualisation/10402959">
            <script src="https://public.flourish.studio/resources/embed.js">
            </script>
        </div>
    }    


    if( uf == 'sc' ){ // #a06177
        <div class="flourish-embed flourish-chart" data-src="visualisation/10402986">
            <script src="https://public.flourish.studio/resources/embed.js">
            </script>
        </div>
    }     

    if( uf == 'se' ){ // #d9af6b
        console.log('Dados indisponíveis.')
    }

    if( uf == 'sp' ){ // #7c7c7c
        <div class="flourish-embed flourish-chart" data-src="visualisation/10403039">
            <script src="https://public.flourish.studio/resources/embed.js">
            </script>
        </div>
    }  

    if( uf == 'to' ){ // #68855c
        <div class="flourish-embed flourish-chart" data-src="visualisation/10402538">
            <script src="https://public.flourish.studio/resources/embed.js">
            </script>
        </div>
    }
}

// // código executado ao clicar
function aoClicar(event){ 
    //console.log('cliquei')

    let botaoAtual = event.target;          // Pegar qual evento foi clicado (o elemento que ativou o evento)
    //console.log(botaoAtual)

    // 'data-alvo' manda uma propriedade do html para o javascript
    let dataAlvo = botaoAtual.dataset.alvo; 
    //console.log(botaoAtual.dataset)
    //console.log(dataAlvo)

    let dataSecao = botaoAtual.dataset.secao; 
    
    let elementoAlvo = document.querySelector(dataAlvo); // Selecionar o elemento
    //console.log(elementoAlvo)

    // O passo anterior é onde estava o passo ativo. Mas como filho da secao.
    let passoAnterior = document.querySelector('.' + dataSecao + ' > .passo-ativo');
    // O botao que estava ativado tinha a classe 'botao-ativo' e era filho de uma secao
    let botaoAnterior = document.querySelector('.botao-ativo[data-secao="'+dataSecao+'"]');



    if(botaoAtual !== botaoAnterior){ // PARA GARANTIR QUE SE O BOTÃO JÁ ESTÁ ATIVO NADA ACONTECERÁ
        // remove a classe 'passo-ativo' do elemento que estava exibido, para escondê-lo // ESCONDER
        passoAnterior.classList.remove('passo-ativo');
        // adiciona a classe 'passo-ativo' ao elemento que deve ser exibido // MOSTRAR
        elementoAlvo.classList.add('passo-ativo');

        // ATUALIZAR OS BOTOES
        // adiciona a classe 'botao-ativo' ao botao clicado
        botaoAtual.classList.add('botao-ativo');
        // remove a classe 'botao-ativo' do botao anterior
        botaoAnterior.classList.remove('botao-ativo');
    }

}
// para cada 'botao' da lista de 'botoes'
for(let botao of botoes){
    // Adicionar evento de clique para cada botão
    // No botão... espere que o evento de 'click' aconteça e quando acontecer faça o que está em 'aoCLicar'
    botao.addEventListener('click', aoClicar);
}